!function(e){"use strict";var a=function(){var a={calType:"gregorian",format:"YYYY/MM/DD HH:MM",multiple:!0,autoClose:!1,transition:!0,disabled:[],smartDisabling:!0},t={getOptions:function(e){var t=e&&a[e]||a;return t}};this.setOptions=function(t,n){return n?void(a[t]=e.extend(a[t]||{},n)):(n=t,void(a=e.extend(a,n)))},this.$get=function(){return t}},t=function(){function e(e){var t=l(e);return t-=226894,a(t)}function a(e){var a=r(e),i=n(e,a),o=t(e,a,i),l={day:o,month:i,year:a};return l}function t(e,a,t){var n=o(a);e-=n+365*(a-1);for(var i=1;t>i;i++)e-=6>=i?31:30;return e}function n(e,a){var t=o(a);e-=t+365*(a-1);for(var n=i(),r=0;r<n.length;r++){if(e<=n[r].count)return n[r].id;e-=n[r].count}return 12}function i(){return[{id:1,count:31},{id:2,count:31},{id:3,count:31},{id:4,count:31},{id:5,count:31},{id:6,count:31},{id:7,count:30},{id:8,count:30},{id:9,count:30},{id:10,count:30},{id:11,count:30},{id:12,count:29}]}function r(e){var a=Math.floor((e-1)/365),t=0;if(a>22){var n=a-22-1,i=a-22,r=Math.floor(n/33),l=i-33*r;l>=28&&(l=28);var c=Math.floor(l/4),u=c+8*r+6,s=Math.floor((e-u)/365);return t=o(s),e-365*s-t-(D(s)?1:0)>0?(s++,s):0>=e-365*s+t?s:s}return t=1>a?0:a>=1&&4>=a?1:a>=5&&8>=a?2:a>=9&&12>=a?3:a>=13&&16>=a?4:a>=17&&22>a?5:6,a=Math.floor((e-t-1)/365),a+1}function o(e){if(23>e)switch(e){case 1:return 0;case 2:case 3:case 4:case 5:return 1;case 6:case 7:case 8:case 9:return 2;case 10:case 11:case 12:case 13:return 3;case 14:case 15:case 16:case 17:return 4;case 18:case 19:case 20:case 21:case 22:return 5}var a=e-22,t=Math.floor((a-1)/33),n=a-33*t;n>28&&(n=28);var i=Math.floor(n/4)+8*t+6;return D(e)&&28>=a-33*t&&i--,i}function l(e){var a=c(),t=s(e.year),n=t,i=u(e.year);n+=365*(e.year-1);for(var r=0;r<e.month-1;r++)i&&r+1==2&&(a[r].count=29),n+=a[r].count;return n+=e.day}function c(){return[{id:1,count:31},{id:2,count:28},{id:3,count:31},{id:4,count:30},{id:5,count:31},{id:6,count:30},{id:7,count:31},{id:8,count:31},{id:9,count:30},{id:10,count:31},{id:11,count:30},{id:12,count:31}]}function u(e){return e%4!=0?!1:e%100!=0?!0:e%400!=0?!1:!0}function s(e){var a=e-1,t=Math.floor(a/4),n=Math.floor(a/100),i=Math.floor(a/400);return t-n+i}function d(e){var a=Math.floor(e/365),t=s(a),n=Math.floor((e-t)/365),i=e-365*n-t;return 0!=i?n++:u(n+1)&&(n+=t/365),Math.floor(n)}function p(e){var a=d(e),t=s(a-1);e-=365*(a-1)+t;for(var n=c(),i=0,r=u(a),o=0;o<n.length;o++){if(r&&2==n[o].id&&(n[o].count=29),e<n[o].count)return(0!=e||0==i)&&i++,i;e-=n[o].count,i=n[o].id}return i}function m(e){var a=d(e),t=p(e);return h(a,t,e)}function h(e,a,t){for(var n=s(e-1),i=c(),r=0,o=0;o<i.length;o++)i[o].id<a&&(r+=i[o].count);return u(e)&&a>2&&r++,t-365*(e-1)-n-r}function y(e){var a=e.day;return a+=f(e.month),a+=g(e.year)}function f(e){for(var a=0,t=i(),n=0;e-1>n;n++)a+=t[n].count;return a}function g(e){var a=o(e);return a+=365*(e-1)}function v(e){var a=y(e)+226894,t=m(a),n=p(a),i=d(a);return{day:t,month:n,year:i}}var D=function(e){if(1==e||5==e||9==e||13==e||17==e||22==e)return!0;if(22>e)return!1;var a=e-22,t=Math.floor(a/33);return(a-33*t)%4==0&&(a-33*t)/4!=8},T=function(a,t,n){var i={year:a,month:t,day:n};return i=e(i)},M=function(e,a,t){var n=v({day:t,month:a,year:e});return n};return{toJalali:T,toGregorian:M,isLeapJalali:D}},n=function(a){return this.leadingZero=function(e){return 10>e?"0"+e:e},this.dateFormat=function(e,a,t){var n=e.year,i=this.leadingZero(e.month),r=this.leadingZero(e.day),o=a.hour,l=a.minute;switch(t){case"MM/DD/YYYY":return i+"/"+r+"/"+n;case"MM/DD/YYYY HH:MM":return i+"/"+r+"/"+n+" "+o+":"+l;case"YYYY/MM/DD":return n+"/"+i+"/"+r;case"YYYY/MM/DD HH:MM":return n+"/"+i+"/"+r+" "+o+":"+l}},this.isDateEqual=function(e,a){var t=new Date(e)-new Date(a);return 0==t},this.isDateBigger=function(e,a){var t=new Date(e)-new Date(a);return t>=0},this.isMonthBigger=function(e,a){var t=new Date(e.year,e.month)-new Date(a.year,a.month);return t>=0},this.joinTime=function(e,a){return new Date(new Date(new Date(e).setHours(a.hour)).setMinutes(a.minute))},this.removeTime=function(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate())},this.convertArrayItemToNumber=function(e){for(var a=0,t=e.length;t>a;a++)e[a]=Number(e[a]);return e},this.validateJalaliDateSeparate=function(e,t){if(3!=e.length||2!=t.length)return!1;if(t[0]>23||t[0]<0||t[1]>59||t[1]<0||e[0]<0||e[1]<1||e[1]>12)return!1;if(e[1]>0&&e[1]<7){if(e[2]<1||e[2]>31)return!1}else if(e[1]>6&&e[1]<12){if(e[2]<1||e[2]>30)return!1}else if(12==e[1]){var n=a.isLeapJalali(e[0]);if(n&&(e[2]<1||e[2]>30)||!n&&(e[2]<1||e[2]>29))return!1}return!0},this.validateJalaliDate=function(e){if("number"==typeof e){var t=new Date(e);if("Invalid Date"==t)return!1;var n=this.convertToJalali(t);e=n.year+"/"+n.month+"/"+n.day+" "+t.getHours()+":"+t.getMinutes()}var i=e.split(" "),r=this.convertArrayItemToNumber(i[0].split("/")),o=this.convertArrayItemToNumber(i.length>1?i[1].split(":"):[0,0]);if(this.validateJalaliDateSeparate(r,o)){var l=a.toGregorian(r[0],r[1],r[2]),t=new Date(l.year,l.month-1,l.day,o[0],o[1]);return{year:r[0],month:r[1],day:r[2],hour:o[0],minute:o[1],unix:t.getTime(),gDate:t}}return!1},this.convertToUnix=function(e,a){if(!e)return null;if("number"==typeof e)return e;var t;if(e instanceof Date&&(e={year:e.getFullYear(),month:e.getMonth()+1,day:e.getDate(),hour:e.getHours(),minute:e.getMinutes()}),e instanceof Object){if(!e.year||!e.month||!e.day)return null;t=e.year+"/"+e.month+"/"+e.day+" "+(e.hour||0)+":"+(e.minute||0)}else{if("string"!=typeof e)return null;t=e}if("jalali"==a){var n=this.validateJalaliDate(t);return n.unix||null}if("gregorian"==a){var n=new Date(t);return"Invalid Date"==n?null:n.getTime()}return null},this.convertFromUnix=function(e,a){var t=new Date(e);return"jalali"==a?this.convertToJalali(t):"gregorian"==a?{year:t.getFullYear(),month:t.getMonth()+1,day:t.getDate(),unix:e}:void 0},this.convertToJalali=function(t){if(t instanceof Date){var n={year:t.getFullYear(),month:t.getMonth()+1,day:t.getDate(),unix:t.getTime()};t=n}return t instanceof Object?e.extend(a.toJalali(t.year,t.month,t.day),{unix:t.unix}):void 0},this.parseDisablePattern=function(e,a,t){var n=Array.apply(null,Array(7)).map(Number.prototype.valueOf,0),i=Array.apply(null,Array(31)).map(Number.prototype.valueOf,0),r={};if(e instanceof Array)for(var o=0,l=e.length;l>o;o++)if("number"==typeof e[o]){var c=new Date(e[o]);"Invalid Date"!=c&&(r[this.removeTime(c).getTime()]=!0)}else if("string"==typeof e[o])if(e[o]=e[o].toLowerCase(),-1==e[o].indexOf("d")&&-1==e[o].indexOf("i")){var u=this.convertToUnix(e[o],t);u&&(r[u]=!0)}else{var s=new RegExp("^[!]?(([0-9]?[0-9])?[d]([+][0-9][0-9]?)?)([&]([0-9]?[0-9])?[d]([+][0-9][0-9]?)?)*?$").test(e[o]),d=new RegExp("^[!]?([i]([+][0-9][0-9]?)?)([&][i]([+][0-9][0-9]?)?)*?$").test(e[o]);if(s||d){var p="!"==e[o][0];e[o]=p?e[o].split("!")[1]:e[o];var m=e[o].split("&");if(s){var h={};m.forEach(function(e){var a=e.split(/d[+]?/).map(function(e){return Number(e)});a[0]=a[0]?a[0]:1,a[1]%=31;for(var t=0;31>t;t++)(1!=a[0]&&t%a[0]==a[1]||1==a[0]&&t==a[1])&&(h[t]=1)});for(var y=0;31>y;y++)p?h[y]||(i[y]=1):h[y]&&(i[y]=1)}else if(d){var h={};m.forEach(function(e){var a=e.split(/i[+]?/).map(function(e){return Number(e)});a[1]%=7,h[a[1]]=1});for(var y=0;7>y;y++)p?h[y]||(n[y]=1):h[y]&&(n[y]=1)}}else console.warn(e[o]+" is not valid!")}return{smart:a,calType:t,"static":r,inWeek:n,inMonth:i}},this.isDayDisable=function(e,a,t){if(a["static"][t.unix])return!0;var n=0;a.smart?"gregorian"==a.calType&&"jalali"==e?n=1:"jalali"==a.calType&&"gregorian"==e&&(n=-1):"gregorian"==a.calType&&"jalali"==e?n=-1:"jalali"==a.calType&&"gregorian"==e&&(n=1);var i=(t.dayName+7+n)%7;return a.inMonth[t.day-1]?!0:!!+a.inWeek[i]},{leadingZero:this.leadingZero,dateFormat:this.dateFormat,isDateEqual:this.isDateEqual,isDateBigger:this.isDateBigger,isMonthBigger:this.isMonthBigger,joinTime:this.joinTime,removeTime:this.removeTime,convertArrayItemToNumber:this.convertArrayItemToNumber,validateJalaliDateSeparate:this.validateJalaliDateSeparate,validateJalaliDate:this.validateJalaliDate,convertToUnix:this.convertToUnix,convertFromUnix:this.convertFromUnix,convertToJalali:this.convertToJalali,parseDisablePattern:this.parseDisablePattern,isDayDisable:this.isDayDisable}},i=function(a,t,n,i,r){return{restrict:"E",replace:!0,transclude:!0,require:"^admDtp",link:function(a,o,l,c){var u;u=a.dtpValue?new Date(a.dtpValue.fullDate):new Date,"jalali"==a.calType&&(u=n.convertToJalali(u)),c.fillDays(u,!a.option.transition),a.previousMonth=function(e){return"jalali"!=a.calType||e?(1==a.current.month?(a.current.month=12,a.current.year--):a.current.month--,void c.reload()):void a.nextMonth(!0)},a.nextMonth=function(e){return"jalali"!=a.calType||e?(12==a.current.month?(a.current.month=1,a.current.year++):a.current.month++,void c.reload()):void a.previousMonth(!0)},a.selectThisDay=function(e){return 0!=e.valid?(a.dtpValue&&(a.dtpValue.selected=!1),c.updateMasterValue(e,"day"),a.option.autoClose?void r(function(){a.closeCalendar()},100):void(e.disable?r(function(){n.isMonthBigger(e,a.current)?a.nextMonth(!0):a.previousMonth(!0)},0):e.selected=!0)):void 0},a.today=function(){var e=new Date;"jalali"==a.calType&&(e=n.convertToJalali(e)),c.fillDays(e,!a.option.transition)},a.changeTimeValue=function(t,i){var r=(Number(a.time[t])+i+("hour"==t?24:60))%("hour"==t?24:60),o=e.copy(a.time);if(o[t]=n.leadingZero(r),a.dtpValue&&(a.minDate||a.maxDate)){var l=n.joinTime(a.dtpValue.unix,o);if(a.minDate&&!n.isDateBigger(l,a.minDate)||a.maxDate&&!n.isDateBigger(a.maxDate,l))return}a.time[t]=n.leadingZero(r),a.dtpValue&&c.updateMasterValue(!1,"time"),c.reload()},a.modelChanged=function(){if(a.dtpValue){var e=n.convertToUnix(a.dtpValue.formated,a.calType);if(!e||a.minDate&&!n.isDateBigger(e,a.minDate)||a.maxDate&&!n.isDateBigger(a.maxDate,e))return void c.updateMasterValue(!1);if(e!=a.fullData.unix){a.parseInputValue(a.dtpValue.formated,!1,!0);var t=new Date(e);"jalali"==a.calType&&(t=n.convertToJalali(t)),c.fillDays(t,!a.option.transition)}}},a.calTypeChanged=function(){a.calType="gregorian"==a.calType?"jalali":"gregorian",a.month=i.calendars[a.calType].monthsNames,a.daysNames=i.calendars[a.calType].daysNames;var r,o=e.copy(a.current);"jalali"==a.calType?r=t.toJalali(o.year,o.month,15):(r=t.toGregorian(o.year,o.month,15),r=new Date(r.year,r.month-1,r.day)),a.dtpValue&&c.updateMasterValue(n.convertFromUnix(a.dtpValue.unix,a.calType)),c.fillDays(r,!0)}},template:'<div class="ADMdtp-calendar-container"><header><span class="glyphicon glyphicon-menu-left" ng-click="previousMonth()"></span><span class="yearMonth">{{current.monthDscr +" "+ current.year}}</span><span class="glyphicon glyphicon-menu-right" ng-click="nextMonth()"></span></header><div class="daysNames"><span ng-repeat="name in daysNames">{{name}}</span></div><hr><div class="days" ng-class="{loading:loadingDays}"><span ng-repeat="day in current.days" ng-click="selectThisDay(day)"><span ng-class="[{disable: day.disable||!day.valid, notValid:!day.valid, today: day.today, selected: day.selected, valid:(day.valid==2)}, (day.isMin)?((calType==\'jalali\')?\'max\':\'min\'):\'\', (day.isMax)?((calType==\'jalali\')?\'min\':\'max\'):\'\']">{{day.day}}</span></span></div><hr><footer><div class="calTypeContainer" ng-class="$parent.calType" ng-click="calTypeChanged()"  ng-if="option.multiple"><p class="gregorian">Gregorian</p><p class="jalali">جلالی</p></div><button class="today" ng-click="today()">{{(calType=="jalali")?"امروز":"Today"}}</button></footer><div class="timePickerContainer" ng-class="{active: timePickerStat}"><span class="glyphicon timeSelectIcon" ng-class="(timePickerStat)?\'glyphicon-menu-down\':\'glyphicon-time\'" ng-click="timePickerStat = !timePickerStat"></span><div class="timePicker"><span class="glyphicon glyphicon-chevron-up" ng-click="changeTimeValue(\'hour\', 1)"></span><!----><span></span><!----><span class="glyphicon glyphicon-chevron-up" ng-click="changeTimeValue(\'minute\', 1)"></span><!----><span>{{time.hour}}</span><!----><span class="period">:</span><!----><span>{{time.minute}}</span><!----><span class="glyphicon glyphicon-chevron-down" ng-click="changeTimeValue(\'hour\', -1)"></span><!----><span></span><!----><span class="glyphicon glyphicon-chevron-down" ng-click="changeTimeValue(\'minute\', -1)"></span></div></div></div>'}},r=function(a,t,n,i,r,o){return{restrict:"E",replace:!0,transclude:!0,require:"ngModel",scope:{options:"=",fullData:"=",ngDisabled:"=",onChange:"&",onDatechange:"&",onTimechange:"&",onOpen:"&",onClose:"&"},link:function(t,l,c,u){var s=t.options;s instanceof Object||(s={}),t.option=e.extend(e.copy(a.getOptions()),s),t.disableDays=n.parseDisablePattern(t.option.disabled,t.option.smartDisabling,t.option.calType),t.calType=t.option.calType,t.month=i.calendars[t.calType].monthsNames,t.daysNames=i.calendars[t.calType].daysNames,t.timeoutValue=[0,0],t.minDate=t.mindate?new Date(t.mindate):null,t.maxDate=t.maxdate?new Date(t.maxdate):null,t.current={year:"",month:"",monthDscr:"",days:[]},t.updateMasterValue=function(e,a){e||(e=t.dtpValue),t.$applyAsync(function(){t.dtpValue=e,t.dtpValue.formated=n.dateFormat(e,t.time,t.option.format),t.dtpValue.fullDate=n.joinTime(e.unix,t.time),t.fullData={formated:t.dtpValue.formated,gDate:t.dtpValue.fullDate,unix:t.dtpValue.fullDate.getTime(),year:e.year,month:e.month,day:e.day,hour:Number(t.time.hour),minute:Number(t.time.minute),minDate:t.minDate,maxDate:t.maxDate,calType:t.calType,format:t.option.format},u.$setViewValue(t.dtpValue.formated),u.$render(),a&&(t.onChange&&t.onChange({date:t.fullData}),"time"==a&&t.onTimechange?t.onTimechange({date:t.fullData}):"day"==a&&t.onDatechange&&t.onDatechange({date:t.fullData}))})},t.parseInputValue=function(e,a,i){var r=!1;e&&("jalali"==t.calType?r=n.validateJalaliDate(e):(r=new Date(e),r="Invalid Date"==r?!1:r)),r?(t.dtpValue={year:r.year||r.getFullYear(),month:r.month||r.getMonth()+1,day:r.day||r.getDate(),unix:r.unix||r.getTime(),fullDate:r.gDate||r},t.dtpValue.fullDate=n.removeTime(t.dtpValue.fullDate),t.dtpValue.unix=t.dtpValue.fullDate.getTime(),t.time={hour:n.leadingZero(r.getHours?r.getHours():r.hour),minute:n.leadingZero(r.getMinutes?r.getMinutes():r.minute)},t.updateMasterValue(!1,i)):a&&(t.time={hour:"00",minute:"00"})},t.parseInputValue(t.option["default"]||u.$viewValue,!0,!1),u.$formatters.push(function(e){if(e){if(e==t.dtpValue.formated)return void console.info(e,t.dtpValue.formated);console.info(t.calType,e,t.dtpValue.formated),t.parseInputValue(e,!1,!0)}else t.destroy();return e}),c.$observe("disable",function(e){t.$applyAsync(function(){e=t.$eval(e),t.disable=e})}),c.$observe("mindate",function(e){t.$applyAsync(function(){e=t.$eval(e),t.minDate=n.convertToUnix(e,t.calType)})}),c.$observe("maxdate",function(e){t.$applyAsync(function(){e=t.$eval(e),t.maxDate=n.convertToUnix(e,t.calType)})}),t.openCalendar=function(){if(!t.showCalendarStat&&!t.disable){t.timeoutValue[0]=0,t.showCalendarStat=!0;var a=e.element('<adm-dtp-calendar style="opacity:0;"></adm-dtp-calendar>');e.element(l.children()[0]).append(a),t.$applyAsync(function(){r(a)(t)}),o(function(){var a=e.element(l.children()[0]).children()[1],t=a.getBoundingClientRect(),n=l.children().children()[0],i=n.getBoundingClientRect(),r={x:i.left,y:i.top+i.height},o={width:t.width+r.x,height:t.height+r.y},c={top:"",bottom:"",left:"",right:""};o.height>window.innerHeight?c.bottom=i.height+"px":c.top=i.height+"px",c.left=o.width>window.innerWidth?window.innerWidth-o.width-20+"px":0,e.element(a).css({top:c.top,bottom:c.bottom,left:c.left,opacity:1})},70),t.onOpen&&t.onOpen()}},t.closeCalendar=function(){t.showCalendarStat&&(t.showCalendarStat=!1,e.element(l.children()[0]).children()[1]&&(e.element(l.children()[0]).children()[1].remove(),t.onClose&&t.onClose()))},t.toggleCalendar=function(){t.showCalendarStat?t.closeCalendar():t.openCalendar()},t.destroy=function(){if(!t.disable){t.current={year:"",month:"",monthDscr:"",days:[]},t.dtpValue=!1,t.fullData={minDate:t.minDate,maxDate:t.maxDate},t.time={hour:"00",minute:"00"};var e=new Date;"jalali"==t.calType&&(e=n.convertToJalali(e)),u.$setViewValue(""),u.$render(),t.fillDays(e,!t.option.transition),t.onChange&&t.onChange({date:t.fullData})}}},controller:["$scope",function(a){this.updateMasterValue=function(e,t){a.updateMasterValue(e,t)},this.fillDays=function(i,r){r?a.timeoutValue[0]=0:a.loadingDays=!0;var l=e.copy(i);if("jalali"==a.calType){var c=t.toGregorian(i.year,i.month,29);i=new Date(c.year,c.month-1,c.day)}var u={year:i.getFullYear(),month:i.getMonth()+1,day:i.getDate()};a.$applyAsync(function(){var t=l.month||l.getMonth()+1;e.extend(a.current,{year:l.year||l.getFullYear(),month:t,monthDscr:a.month[t-1]})});var s=new Date;s=new Date(s.getFullYear(),s.getMonth(),s.getDate()).getTime();var d,p=-1;a.dtpValue&&(p=a.dtpValue.unix);var m,h=new Date(u.year,u.month-1,u.day),y=new Date(e.copy(h).setDate(1)).getDay(),f=[],g=-1*y,v=!0,D=-1;if("jalali"==a.calType){var m=new Date(e.copy(h).setDate(g)),T=t.toJalali(m.getFullYear(),m.getMonth()+1,m.getDate());g-=7*Math.ceil((T.day-1)/7)+1}for(;;){g++;var m=new Date(e.copy(h).setDate(g)),T=!1;"jalali"==a.calType&&(T=t.toJalali(m.getFullYear(),m.getMonth()+1,m.getDate()));var M=T.day||m.getDate();if(1==M&&(v=!v),v&&8>M&&("jalali"==a.calType&&6==m.getDay()||"gregorian"==a.calType&&0==m.getDay()))break;var x=!1,b=1;if(a.minDate||a.maxDate){var V=n.joinTime(m,a.time);a.minDate&&!n.isDateBigger(V,a.minDate)||a.maxDate&&!n.isDateBigger(a.maxDate,V)?(b=0,2==D&&(f[f.length-1].isMax=!0)):(b=2,0==D&&(x=!0)),D=b}var w=m.getTime(),C=m.getDay()+("jalali"==a.calType?1:0),j={day:M,month:T.month||m.getMonth()+1,year:T.year||m.getFullYear(),dayName:C,fullDate:m,disable:v,today:w==s,selected:w==p,unix:w,valid:b,isMin:x};n.isDayDisable(a.calType,a.disableDays,j)&&(j.valid=0),j.selected&&(d=f.length),f.push(j)}o(function(){a.timeoutValue[0]=500,a.$applyAsync(function(){a.current.days=f,d&&a.updateMasterValue(a.current.days[d]),o(function(){a.loadingDays=!1},a.timeoutValue[1])})},a.timeoutValue[0])},this.reload=function(){var t=e.copy(a.current);t.day=29;var n=new Date(t.year,t.month-1,8);"jalali"==a.calType&&(n=t),this.fillDays(n,!a.option.transition)},a.fillDays=this.fillDays}],template:'<div class="ADMdtp-container" ng-class="{rtf: (calType==\'jalali\'), touch: option.isDeviceTouch, disable: disable}"><div class="clickOutContainer" click-out="closeCalendar()"><div class="input-group masterInput" ng-class="{touch: option.isDeviceTouch, disable: disable, open: showCalendarStat}"><div class="input-group-addon iconContainer" ng-click="(option.isDeviceTouch)?toggleCalendar():destroy()"><i class="glyphicon glyphicon-unchecked fakeIcon"></i><i class="glyphicon glyphicon-calendar calendarIcon"></i><i class="glyphicon glyphicon-remove removeIcon"></i><i class="glyphicon glyphicon-off closeIcon"></i></div><input type="text" class="form-control" ng-model="dtpValue.formated" ng-focus="openCalendar()" ng-disabled="option.isDeviceTouch || disable" ng-blur="modelChanged()"><i class="glyphicon glyphicon-remove removeIcon" ng-if="dtpValue.formated" ng-click="destroy()"></i></div></div></div>'}},o=function(e){return{restrict:"A",scope:{clickOut:"&"},link:function(a,t,n){var i=void 0!==n.outsideIfNot?n.outsideIfNot.replace(", ",",").split(","):[];void 0==n.id&&n.$set("id","id_"+Math.random()),void 0!==n.id&&i.push(n.id),e.on("click contextmenu",function(e){var t,n=0;if(e.target){for(t=e.target;t;t=t.parentNode){var r=t.id,o=t.className;if(void 0!==r)for(n=0;n<i.length;n++)if(r.indexOf(i[n])>-1||o.indexOf(i[n])>-1)return}a.$eval(a.clickOut)}})}}},l=function(e){try{document.createEvent("TouchEvent"),e.setOptions({isDeviceTouch:!0})}catch(a){e.setOptions({isDeviceTouch:!1})}};return e.module("ADM-dateTimePicker",[]).constant("constants",{calendars:{gregorian:{monthsNames:["January","February","March","April","May","June","July","August","September","October","November","December"],daysNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},jalali:{monthsNames:["فروردین","اردیبهشت","خرداد","تیر","مرداد","شهریور","مهر","آبان","آذر","دی","بهمن","اسفند"],daysNames:["ش","ی","د","س","چ","پ","ج"]}}}).provider("ADMdtp",a).factory("ADMdtpConvertor",[t]).factory("ADMdtpFactory",["ADMdtpConvertor",n]).directive("admDtp",["ADMdtp","ADMdtpConvertor","ADMdtpFactory","constants","$compile","$timeout",r]).directive("admDtpCalendar",["ADMdtp","ADMdtpConvertor","ADMdtpFactory","constants","$timeout",i]).directive("clickOut",["$document",o]).config(["ADMdtpProvider",l])}(window.angular);